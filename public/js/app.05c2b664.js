(function(t){function e(e){for(var o,i,r=e[0],l=e[1],c=e[2],p=0,d=[];p<r.length;p++)i=r[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"1d6d":function(t,e,n){},"2a30":function(t,e,n){"use strict";n("fa98")},"4d0b":function(t,e,n){"use strict";n("7819")},5406:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i={name:"App",metaInfo:{title:"ToDoList"}},r=i,l=(n("034f"),n("2877")),c=Object(l["a"])(r,a,s,!1,null,null,null),u=c.exports,p=n("8c4f"),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("html",{attrs:{lang:"cs"}},[o("body",{staticClass:"text-center"},[o("main",{staticClass:"form-signin"},[o("form",[o("img",{staticClass:"mb-4",attrs:{src:n("f505"),alt:"",width:"72",height:"72"}}),o("h1",{staticClass:"h3 mb-3 fw-normal"},[t._v("Please sign in")]),o("div",{staticClass:"form-floating"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.input.username,expression:"input.username"}],staticClass:"form-control",attrs:{type:"email",placeholder:"name@example.com"},domProps:{value:t.input.username},on:{input:function(e){e.target.composing||t.$set(t.input,"username",e.target.value)}}})]),o("div",{staticClass:"form-floating"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})]),t.showError?o("p",{attrs:{id:"error"}},[t._v("Username or Password is incorrect")]):t._e(),o("button",{staticClass:"w-100 btn btn-lg btn-primary",attrs:{type:"submit"},on:{click:t.login}},[t._v(" Sign in ")]),o("p",{staticClass:"mt-5 mb-3 text-muted"},[t._v("© 2021–2021")])]),o("About")],1)])])},m=[],v=n("1da1"),k=n("5530"),f=(n("96cf"),n("bc3a")),h=n.n(f),b=n("2f62"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav exports"},[n("li",{on:{click:function(e){return t.About()}}},[n("b-button",{attrs:{size:"sm"}},[t._v("About")])],1)])},j=[],g={name:"Exports",data:function(){return{}},methods:{About:function(){console.log("About.AboutSite");var t=this.$router.resolve({name:"about"});window.open(t.href,"_blank")}}},w=g,y=(n("6a9b"),Object(l["a"])(w,_,j,!1,null,"69c933fa",null)),x=y.exports,z={name:"Login",data:function(){return{input:{username:"",password:""},showError:!1}},methods:Object(k["a"])(Object(k["a"])({},Object(b["b"])(["setUser","setToken"])),{},{login:function(t){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.preventDefault(),""!=e.input.username&&""!=e.input.password&&h.a.post("https://wea-todolist.herokuapp.com/api/users/valid",{email:e.input.username,password:e.input.password}).then((function(t){e.setUser(t.data.user),e.setToken(t.data.token),e.$router.push("/todolist")})).catch((function(){console.log,console.log("Invalid user"),e.showError=!0,e.input.username="",e.input.password=""}));case 2:case"end":return n.stop()}}),n)})))()}}),components:{About:x}},C=z,O=(n("6d2c"),Object(l["a"])(C,d,m,!1,null,"64c5c3d5",null)),E=O.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("body",[n("div",{staticClass:"page-content page-container",attrs:{id:"page-content"}},[n("div",{staticClass:"padding"},[n("div",{staticClass:"row container d-flex justify-content-center"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card px-3"},[n("div",{staticClass:"card-body"},[n("h4",{staticClass:"card-title"},[t._v("TO-DO List")]),n("AddTask"),n("FilterList"),n("TaskList")],1)]),n("Exports"),n("About")],1)])])])])},A=[],L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-items d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control todo-list-input",attrs:{type:"text",placeholder:"What do you need to do today?"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{staticClass:"add btn btn-primary font-weight-bold todo-list-add-btn",on:{click:function(e){return t.TaskAdd()}}},[t._v(" Add ")])])},P=[],S={name:"AddTask",data:function(){return{content:"",connection:null}},methods:{TaskAdd:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("AddTask.TaskAdd"),""==this.content){t.next=4;break}return t.next=4,h.a.post("https://wea-todolist.herokuapp.com/api/tasks/",{content:this.content});case 4:this.content="",this.connection.send("");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.connection=new WebSocket("wss://wea-todolist.herokuapp.com"),this.connection.onopen=function(t){console.log(t)}}},R=S,$=(n("fef2"),Object(l["a"])(R,L,P,!1,null,"3e34a475",null)),D=$.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav nav-pills todo-nav"},[n("li",{staticClass:"nav-item all-task active",attrs:{role:"presentation"},on:{click:function(e){return t.ApplyFilter(null)}}},[n("a",{staticClass:"nav-link"},[t._v("All")])]),n("li",{staticClass:"nav-item active-task",attrs:{role:"presentation"},on:{click:function(e){return t.ApplyFilter(0)}}},[n("a",{staticClass:"nav-link"},[t._v("Active")])]),n("li",{staticClass:"nav-item completed-task",attrs:{role:"presentation"},on:{click:function(e){return t.ApplyFilter(1)}}},[n("a",{staticClass:"nav-link"},[t._v("Completed")])])])},N=[],M=(n("4de4"),n("d3b7"),{name:"FilterList",data:function(){return{filter:null,connection:null}},methods:{ApplyFilter:function(t){console.log("FilterList.ApplyFilter"),this.filter=t,this.$router.push({path:"todolist",query:{filter:this.filter}}).catch((function(){})),this.connection.send("")}},created:function(){this.connection=new WebSocket("wss://wea-todolist.herokuapp.com"),this.connection.onopen=function(t){console.log(t)}}}),H=M,F=(n("ad99"),Object(l["a"])(H,J,N,!1,null,"240c6489",null)),I=F.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-wrapper"},[n("ul",{staticClass:"d-flex flex-column-reverse todo-list"},t._l(t.tasks,(function(e){return n("li",{key:e.id,class:{completed:e.completed}},[n("div",{staticClass:"form-check"},[n("label",{staticClass:"form-check-label"},[n("input",{staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:!!e.completed||null},on:{click:function(n){return t.TaskComplete(e.id,e.content)}}}),n("i",{staticClass:"input-helper"}),t._v(t._s(e.content))])]),n("div",{staticClass:"task-icons"},[n("b-icon",{staticClass:"remove mdi",attrs:{icon:"trash"},on:{click:function(n){return t.TaskDelete(e.id)}}}),n("b-icon",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-edit",modifiers:{"modal-edit":!0}}],staticClass:"edit mdi",attrs:{icon:"pencil"},on:{click:function(n){return t.TaskEdit(e.id)}}})],1)])})),0),n("ModalEdit")],1)},q=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{id:"modal-edit",title:"Edit Task"},on:{ok:t.HandleOk,show:t.ResetModal}},[n("form",{ref:"form"},[n("b-form-group",{attrs:{label:"Task:","label-for":"task-input"}},[n("b-form-input",{attrs:{id:"task_input",required:""},model:{value:t.task_input,callback:function(e){t.task_input=e},expression:"task_input"}})],1)],1)])},W=[],B={name:"ModalEdit",data:function(){return{task_input:"",id:null,completed:"",connection:null}},methods:{HandleOk:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ModalEdit.HandleOk"),t.next=3,h.a.put("https://wea-todolist.herokuapp.com/api/tasks/"+this.id,{content:this.task_input,completed:this.completed});case 3:this.connection.send("");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),ResetModal:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ModalEdit.ResetModal"),this.id=this.$route.query.id,t.next=4,h.a.get("https://wea-todolist.herokuapp.com/api/tasks/"+this.id);case 4:e=t.sent,this.task_input=e.data.content,this.completed=e.data.completed;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.connection=new WebSocket("wss://wea-todolist.herokuapp.com"),this.connection.onopen=function(t){console.log(t)}}},Q=B,K=Object(l["a"])(Q,V,W,!1,null,null,null),Z=K.exports,G={name:"TaskList",data:function(){return{tasks:[],timer:void 0,filter:null,connection:null}},methods:{Refresh:function(){var t=this,e=this.$route.query.filter;void 0!==e&&(this.filter=null==e?null:e),null==this.filter?h.a.get("https://wea-todolist.herokuapp.com/api/tasks/").then((function(e){t.tasks=e.data})):h.a.get("https://wea-todolist.herokuapp.com/api/tasks/completed/"+this.filter).then((function(e){t.tasks=e.data}))},TaskDelete:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("TaskList.TaskDelete"),t.next=3,h.a.delete("https://wea-todolist.herokuapp.com/api/tasks/"+e);case 3:this.connection.send("");case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),TaskComplete:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e,n){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("TaskList.TaskComplete"),t.next=3,h.a.get("https://wea-todolist.herokuapp.com/api/tasks/"+e);case 3:return o=t.sent,a=1,1===o.data.completed&&(a=0),t.next=8,h.a.put("https://wea-todolist.herokuapp.com/api/tasks/"+e,{content:n,completed:a});case 8:this.connection.send("");case 9:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),TaskEdit:function(t){console.log("TaskList.TaskEdit"+t),this.$router.push({path:"todolist",query:{id:t}}).catch((function(){}))}},created:function(){this.tasks=[];var t=this;this.connection=new WebSocket("wss://wea-todolist.herokuapp.com"),this.connection.onopen=function(t){console.log("TaskList connected"),console.log(t)},this.connection.onmessage=function(e){"refresh"===e.data&&t.Refresh()},t.Refresh()},components:{ModalEdit:Z}},X=G,Y=(n("f420"),Object(l["a"])(X,U,q,!1,null,"395d6af0",null)),tt=Y.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav exports"},[n("li",{on:{click:function(e){return t.ExportJson()}}},[n("b-button",{attrs:{size:"sm"}},[t._v("JSON")])],1)])},nt=[],ot={name:"Exports",data:function(){return{}},methods:{ExportJson:function(){console.log("Exports.ExportJson");var t=this.$router.resolve({name:"json"});window.open(t.href,"_blank")}}},at=ot,st=(n("2a30"),Object(l["a"])(at,et,nt,!1,null,"52ca8f86",null)),it=st.exports,rt={name:"TodoList",data:function(){return{}},components:{AddTask:D,FilterList:I,TaskList:tt,Exports:it,About:x},head:{title:{inner:"ToDoList"}}},lt=rt,ct=(n("4d0b"),Object(l["a"])(lt,T,A,!1,null,"d76eac00",null)),ut=ct.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v(t._s(t.tasks))])},dt=[],mt={name:"ExportJSON",data:function(){return{tasks:""}},methods:{DownloadData:function(){var t=this;h.a.get("https://wea-todolist.herokuapp.com/api/tasks/").then((function(e){t.tasks=e.data}))}},created:function(){this.tasks="",this.DownloadData()},head:{title:function(){return{inner:"JSON"}}}},vt=mt,kt=Object(l["a"])(vt,pt,dt,!1,null,null,null),ft=kt.exports;o["default"].use(b["a"]);var ht=new b["a"].Store({state:{user:null,token:null},mutations:{setUser:function(t,e){t.user=e},setToken:function(t,e){t.token=e}},actions:{},getters:{isLoggedIn:function(t){return!!t.token}}}),bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("body",[n("h1",[t._v("TodoList")]),n("p",[t._v("Jednoduchý TodoList vytvořený pomocí frameworku Vue.js. Serversite běží na Expressu.")]),n("p",[t._v("Aplikace je nasazená na Heroku pomocí free programu, kde používá pouze jeden Add-on a to ClearDB MySQL.")]),n("p",[t._v("Implementoval jsem kompletní REST API které pracuje s MySQL databází. Databáze má dva tably jeden pro ukládání users a druhý pro ukládní úkolů.")]),n("h2",[t._v("Funkce TodoListu")]),t._m(0),n("h2",[t._v("Uživatelé")]),n("p",[t._v("V zadání nebyl požadavek na registraci uživatelů tak jsem to neimplementoval. V databázi jsou pevně daní uživatelé. Jejich seznam s hesly je níže.")]),t._m(1),n("h2",[t._v("Zajímavosti")]),n("p",[t._v("Aplikace je připravena pro práci více uživatelů najednou. Pomocí odesílání websocketů není problém s tím že pokud jeden uživatel provede změnu druhému by se změna neprojevila.")]),n("p",[t._v("Pro design aplikace jsem využíval výhradně bootsrap.")]),n("h2",[t._v("Limity Heroku")]),n("p",[t._v("Heroku obsahuje nějaké limitující pravidla či vlastnolsti které se mi na mém lokálním stroji neprojevovali.")]),n("p",[t._v("Prvním limitem je že server musí každou vteřinu posílat na websocket server zprávu (interval by možná mohl být delší). Je to z důvodu že po cca 30 vteřinách když se client odpojí od aplikace Heroku si myslí že apliakce padla protože websocket server je nečinný a spadne s chybou H15.")]),n("p",[t._v("Dále jsem musel změnit připojení z klasické na pool, protože aplikace po odpojení ztratila spojení s Heroku ClearDB databází a spadla.")]),n("p",[t._v("Client site i Server site běží na jedné URL (mělo by to běžet na oddělených strojích) nicméně nevím jak by to bylo s free plánem od Heroku (ačkoliv je add-on ClearDB zadarmo Heroku po vás žádá platební kartu přidat a nerad bych aby mi účtovali za druhou aplikaci).")]),n("p",[t._v("Jelikož je jakkákoliv změna zpracována odesláním websocketu občas trošičku déle trvá než se změna projeví (např. při odškrtnutí úkolu). Je to nejspíše z důvodu pomalejší odezvy websocketu jelikož free plan asi nenabízí nejvyšší rychlosti. Na localehostu to funguje okamžitě.")]),n("p",[t._v("Heroku aplikaci uspí po nějaké době nečinosti. První připojení může být tedy delší než normálně.")]),n("h2",[t._v("Návod")]),n("h3",[t._v("Přihlášení")]),n("p",[t._v("Na stránce https://wea-todolist.herokuapp.com/#/login se přihlásíte pomocí pevně nastavených klientských účtů, které jsou uvedené výše.")]),n("h3",[t._v("Operace s úkoly")]),n("p",[t._v("Pro vtyvoření nového úkolu je nutné napsat název úkolu do textového pole a myší stisknout tlačítkop Add. Úkol se automaticky přidá do seznamu úkolů a nastaví se jako nesplněný.")]),n("p",[t._v('Pro označení úkolu jako splněný je nutné kliknout na checkbox. Úkol který jste již označili jako dokončený lze opět "odkliknout" a znovu označit jako nesplněný.')]),n("p",[t._v("Pro smazání úkolu (jak splněného tak nesplněného) je nutné kliknout na "),n("b-icon",{staticClass:"remove mdi",attrs:{icon:"trash"}}),t._v(". Tímto odstraníte úkol. Tato operace je nevratná!")],1),n("p",[t._v("Pro editaci úkolu je nutné kliknout na "),n("b-icon",{staticClass:"edit mdi",attrs:{icon:"pencil"}}),t._v(". Poté se otevře okno ve kterém bude textové pole s aktuálním popisem úkolu. Tento text je možné upravit a následně stisknout OK pro uložení. V případě že budete chtít akci zrušit můžete stisknout tlačítko Cancel.")],1),n("h3",[t._v("Použití filtrů")]),n("p",[t._v("Nad seznamem úkolů je filtr pro filtrování úkolů. Defaultně je nastaven že zobrazuje všechny úkoly. Lze si zvolit zda chcete zobrazit úkoly splněné nesplněné nebo všechny.")]),n("h3",[t._v("Export do JSON")]),n("p",[t._v("Pod seznamem úkolů je tlačítko JSON. Po kliknutí na něj se otevře nové okno se seznamem úkolů v JSON formátu. Exportuje všechny úkoly (aktuálně aplikovaný filtr na tento export nemá vliv).")]),n("h3",[t._v("Tlačítko About")]),n("p",[t._v("Vede na stránku na které se právě nacházíte. Stránka slouží jako taková náhrada Readme.")])])},_t=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("Přidání úkolu")]),n("li",[t._v("Smazání úkolu")]),n("li",[t._v("Označení úkolu jako splněný (přeškrtnutí)")]),n("li",[t._v("Editaci úkolu (jak splněného tak nesplněného) - ID úkolu je předáváno jako paramater v URL")]),n("li",[t._v("Export úkolů do JSON")]),n("li",[t._v("Filt úkolů (splněný, nesplněný, všechny) - filtr úkolů je předáván pomocí parametru v URL")]),n("li",[t._v("Přihlášení uživatele")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("email: "),n("strong",[t._v("email@email.cz")]),t._v(" heslo: "),n("strong",[t._v("email")])]),n("li",[t._v("email: "),n("strong",[t._v("jiri.vrany@tul.cz")]),t._v(" heslo: "),n("strong",[t._v("jirivrany")])]),n("li",[t._v("email: "),n("strong",[t._v("martin.hajek1@tul.cz")]),t._v(" heslo: "),n("strong",[t._v("martinhajek1")])]),n("li",[t._v("email: "),n("strong",[t._v("admin@admin.cz")]),t._v(" heslo: "),n("strong",[t._v("admin")])])])}],jt={name:"AboutSite",data:function(){return{}}},gt=jt,wt=Object(l["a"])(gt,bt,_t,!1,null,null,null),yt=wt.exports;o["default"].use(p["a"]);var xt=new p["a"]({routes:[{path:"/login",name:"login",component:E,beforeEnter:function(t,e,n){var o=ht.getters["isLoggedIn"];o?n("/todolist"):n()}},{path:"/todolist",name:"todolist",component:ut,beforeEnter:function(t,e,n){var o=ht.getters["isLoggedIn"];o?n():n("/login")}},{path:"/todolist/json",name:"json",component:ft},{path:"/",name:"basic",component:E,beforeEnter:function(t,e,n){var o=ht.getters["isLoggedIn"];n(o?"/todolist":"/login")}},{path:"/about",name:"about",component:yt}]}),zt=n("58ca"),Ct=n("5f5b"),Ot=n("b1e0");n("f9e3"),n("2dd8"),n("7d8e");o["default"].use(Ct["a"]),o["default"].use(Ot["a"]),o["default"].config.productionTip=!1,o["default"].use(zt["a"]),new o["default"]({router:xt,store:ht,render:function(t){return t(u)}}).$mount("#app")},"6a9b":function(t,e,n){"use strict";n("5406")},"6d2c":function(t,e,n){"use strict";n("aed8")},7819:function(t,e,n){},"85ec":function(t,e,n){},"8e49":function(t,e,n){},9698:function(t,e,n){},ad99:function(t,e,n){"use strict";n("1d6d")},aed8:function(t,e,n){},f420:function(t,e,n){"use strict";n("8e49")},f505:function(t,e,n){t.exports=n.p+"img/js.a2969c59.png"},fa98:function(t,e,n){},fef2:function(t,e,n){"use strict";n("9698")}});
//# sourceMappingURL=app.05c2b664.js.map